{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "Blog App Seed Dataset",
    "type": "object",
    "required": [],
    "properties": {
      "Users": { "type": "array", "items": { "$ref": "#/$defs/User" } },
      "Articles": { "type": "array", "items": { "$ref": "#/$defs/Article" } }
    },
    "$defs": {
      "User": {
        "type": "object",
        "additionalProperties": false,
        "required": [],
        "properties": {
          "id": { "type": "integer", "minimum": 1, "description": "User ID (1..N)" },
          "full_name": { "type": "string", "minLength": 1 },
          "email": { "type": "string", "format": "email" },
          "password": {
            "type": "string",
            "pattern": "^\\$2a\\$10\\$[A-Za-z0-9./]{53}$",
            "description": "bcrypt-like hash produced by generator"
          },
          "avatar_url": { "type": "string", "format": "uri" },
          "role": { "type": "string", "enum": ["admin", "editor", "user"] },
          "created_at": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
            "description": "Timestamp 'YYYY-MM-DD HH:mm:ss'"
          },
  
          "likes": {
            "type": "array",
            "items": { "type": "integer", "minimum": 0 },
            "uniqueItems": true,
            "description": "Article IDs the user likes"
          },
          "dislikes": {
            "type": "array",
            "items": { "type": "integer", "minimum": 0 },
            "uniqueItems": true,
            "description": "Article IDs the user dislikes"
          },
          "bookmarks": {
            "type": "array",
            "items": { "type": "integer", "minimum": 0 },
            "uniqueItems": true,
            "description": "Bookmarked article IDs"
          },

          "following": {
            "type": "array",
            "items": { "type": "integer", "minimum": 0 },
            "uniqueItems": true,
            "description": "User IDs this user follows"
          },
          "followers": {
            "type": "array",
            "items": { "type": "integer", "minimum": 0 },
            "uniqueItems": true,
            "description": "User IDs who follow this user"
          }
        }
      },
  
      "Article": {
        "type": "object",
        "additionalProperties": false,
        "required": [],
        "properties": {
          "id": { "type": "integer", "minimum": 1, "description": "Article ID (1..N)" },
          "title": { "type": "string", "minLength": 1 },
          "content": { "type": "string", "minLength": 1 },
          "summary": { "type": "string", "minLength": 1 },
          "status": { "type": "string", "enum": ["published", "draft"] },
  
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
  
          "image": { "type": "string", "format": "uri" },
  
          "author_id": { "type": "integer", "minimum": 1, "description": "References a User.id (1..USERS_N)" },
          "author_name": { "type": "string", "minLength": 1, "description": "Display name; generated independently" },
  
          "likes": { "type": "integer", "minimum": 0, "description": "Engagement count (random in seed data)" },
          "dislike": { "type": "integer", "minimum": 0, "description": "Engagement count (random in seed data)" },
          "views": { "type": "integer", "minimum": 0 },
  
          "created_at": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
            "description": "Timestamp 'YYYY-MM-DD HH:mm:ss'"
          },
          "updated_at": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
            "description": "Must be >= created_at (enforced in generator)"
          }
        }
      }
    }
  }
  